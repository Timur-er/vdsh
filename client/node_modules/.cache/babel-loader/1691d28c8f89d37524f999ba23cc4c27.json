{"ast":null,"code":"var _jsxFileName = \"/Users/etimur/Desktop/vdsh/client/src/Components/RegAuth/RegistarationForm/RegistrationForm.js\";\nimport React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from \"formik\";\nimport * as Yup from 'yup';\nimport styles from './RegistrationForm.module.scss';\nimport { registrationAPI } from \"../../../http/userAPI\";\nimport { useDispatch } from \"react-redux\";\nimport { USER_PAGE } from \"../../../routes/const\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAuth } from \"../../../Hooks/auth.hook\";\n\nconst RegistrationForm = () => {\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Не правильный email').required('Укажите email!'),\n    name: Yup.string().min(2, 'Минимальное количество символов 2').max(15, 'Максимальное количество символов 15').required('Это обязательное поле!'),\n    surname: Yup.string().min(2, 'Минимальное количество символов 2').max(15, 'Максимальное количество символов 15').required('Это обязательное поле!'),\n    password: Yup.string().min(6, 'Минимальное кол-во символов 6').required('Это обязательное поле!'),\n    confirmPassword: Yup.string().required('Повторите пароль').oneOf([Yup.ref('password'), null], 'Пароли не совпадают')\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      email: '',\n      name: '',\n      surname: '',\n      role: '',\n      password: '',\n      confirmPassword: '',\n      shopAddress: ''\n    },\n    validationSchema: validationSchema,\n    onSubmit: async (values, _ref) => {\n      let {\n        setSubmitting\n      } = _ref;\n      const {\n        email,\n        name,\n        surname,\n        shopAddress,\n        password\n      } = values;\n      const newUser = await registrationAPI(email, name, surname, shopAddress, password);\n      const {\n        user_id,\n        email: userEmail,\n        name: userName,\n        surname: userSurname,\n        shop_id,\n        isActivated\n      } = newUser.data.user;\n      console.log(newUser);\n      console.log(newUser.data);\n      login(user_id, userEmail, userName, userSurname, shop_id, newUser.data.accessToken, isActivated);\n      navigate(USER_PAGE);\n      setSubmitting(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, formik => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.formWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: styles.form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 37\n      }\n    }, \"Email:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'email',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: \"email\",\n      name: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 37\n      }\n    }, \"\\u0418\\u043C\\u044F\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'name',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: \"text\",\n      name: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 37\n      }\n    }, \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'surname',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: \"text\",\n      name: \"surname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 37\n      }\n    }, \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'password',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: \"password\",\n      name: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 37\n      }\n    }, \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'confirmPassword',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: \"password\",\n      name: \"confirmPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.selectBlock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: styles.select,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 41\n      }\n    }, \"\\u0410\\u0434\\u0440\\u0435\\u0441 \\u043C\\u0430\\u0433\\u0430\\u0437\\u0438\\u043D\\u0430 \\u0432 \\u043A\\u043E\\u0442\\u043E\\u0440\\u043E\\u043C \\u0432\\u044B \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u0435\\u0442\\u0435:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'shopAddress',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      as: \"select\",\n      name: \"shopAddress\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 45\n      }\n    }, \"\\u041A\\u0440\\u0435\\u0449\\u0430\\u0442\\u0438\\u043A\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 45\n      }\n    }, \"\\u041D\\u0438\\u0432\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 45\n      }\n    }, \"\\u0422\\u043E\\u043B\\u0441\\u0442\\u043E\\u0433\\u043E\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.selectBlock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: styles.select,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 41\n      }\n    }, \"\\u0420\\u043E\\u043B\\u044C:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'role',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      as: \"select\",\n      name: \"role\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 45\n      }\n    }, \"\\u0410\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 45\n      }\n    }, \"\\u041D\\u0438\\u0432\\u043A\\u0438\"), /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 45\n      }\n    }, \"\\u0422\\u043E\\u043B\\u0441\\u0442\\u043E\\u0433\\u043E\")))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.submitButton,\n      type: 'submit',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 37\n      }\n    }, \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"))));\n  }));\n};\n\nexport default RegistrationForm;","map":{"version":3,"sources":["/Users/etimur/Desktop/vdsh/client/src/Components/RegAuth/RegistarationForm/RegistrationForm.js"],"names":["React","Formik","Form","Field","ErrorMessage","Yup","styles","registrationAPI","useDispatch","USER_PAGE","useNavigate","useAuth","RegistrationForm","login","navigate","validationSchema","object","email","string","required","name","min","max","surname","password","confirmPassword","oneOf","ref","role","shopAddress","values","setSubmitting","newUser","user_id","userEmail","userName","userSurname","shop_id","isActivated","data","user","console","log","accessToken","formik","formWrapper","form","errorMessage","input","selectBlock","select","submitButton"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Formik, Form, Field, ErrorMessage} from \"formik\";\nimport * as Yup from 'yup';\nimport styles from './RegistrationForm.module.scss';\nimport {registrationAPI} from \"../../../http/userAPI\";\nimport {useDispatch} from \"react-redux\";\nimport {USER_PAGE} from \"../../../routes/const\";\nimport {useNavigate} from \"react-router-dom\";\nimport {useAuth} from \"../../../Hooks/auth.hook\";\n\nconst RegistrationForm = () => {\n    const {login} = useAuth();\n    const navigate = useNavigate();\n\n    const validationSchema = Yup.object({\n        email: Yup.string().email('Не правильный email').required('Укажите email!'),\n        name: Yup.string()\n            .min(2, 'Минимальное количество символов 2')\n            .max(15, 'Максимальное количество символов 15')\n            .required('Это обязательное поле!'),\n        surname: Yup.string()\n            .min(2, 'Минимальное количество символов 2')\n            .max(15, 'Максимальное количество символов 15')\n            .required('Это обязательное поле!'),\n        password: Yup.string()\n            .min(6, 'Минимальное кол-во символов 6')\n            .required('Это обязательное поле!'),\n        confirmPassword: Yup.string()\n            .required('Повторите пароль')\n            .oneOf([Yup.ref('password'), null], 'Пароли не совпадают'),\n\n    })\n\n\n    return (\n        <>\n            <Formik\n                initialValues={{\n                    email: '',\n                    name: '',\n                    surname: '',\n                    role: '',\n                    password: '',\n                    confirmPassword: '',\n                    shopAddress: ''\n                }}\n                validationSchema={validationSchema}\n                onSubmit={async (values, {setSubmitting}) => {\n                    const {email, name, surname, shopAddress, password} = values;\n                    const newUser = await registrationAPI(email, name, surname, shopAddress, password);\n                    const {user_id, email: userEmail, name: userName, surname: userSurname, shop_id, isActivated} = newUser.data.user;\n                    console.log(newUser);\n                    console.log(newUser.data);\n                    login(user_id, userEmail, userName, userSurname, shop_id, newUser.data.accessToken, isActivated);\n                    navigate(USER_PAGE)\n                    setSubmitting(false)\n                }}>\n                {(formik) => {\n                    return (\n                        <div className={styles.formWrapper}>\n                            <Form className={styles.form}>\n                                <label>\n                                    <div>\n                                        Email:\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'email'}/>\n                                        </span>\n                                    </div>\n                                    <Field\n                                        className={styles.input}\n                                        type='email'\n                                        name='email'/>\n                                </label>\n\n                                <label>\n                                    <div>\n                                        Имя\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'name'}/>\n                                        </span>\n                                    </div>\n                                    <Field\n                                        className={styles.input}\n                                        type='text'\n                                        name='name'/>\n                                </label>\n\n                                <label>\n                                    <div>\n                                        Фамилия\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'surname'}/>\n                                        </span>\n                                    </div>\n                                    <Field\n                                        className={styles.input}\n                                        type='text'\n                                        name='surname'/>\n                                </label>\n\n                                <label>\n                                    <div>\n                                        Пароль\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'password'}/>\n                                        </span>\n                                    </div>\n                                    <Field\n                                        className={styles.input}\n                                        type='password'\n                                        name='password'/>\n                                </label>\n\n                                <label>\n                                    <div>\n                                        Подтвердите пароль\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'confirmPassword'}/>\n                                        </span>\n                                    </div>\n                                    <Field\n                                        className={styles.input}\n                                        type='password'\n                                        name='confirmPassword'/>\n                                </label>\n\n                                <div className={styles.selectBlock}>\n\n                                    <label className={styles.select}>\n                                        <div>\n                                            Адрес магазина в котором вы работаете:\n                                            <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'shopAddress'}/>\n                                        </span>\n                                        </div>\n                                        <Field\n                                            as='select'\n                                            name='shopAddress'>\n                                            <option>{}</option>\n                                            <option>Крещатик</option>\n                                            <option>Нивки</option>\n                                            <option>Толстого</option>\n                                        </Field>\n                                    </label>\n                                </div>\n\n                                <div className={styles.selectBlock}>\n\n                                    <label className={styles.select}>\n                                        <div>\n                                            Роль:\n                                            <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'role'}/>\n                                        </span>\n                                        </div>\n                                        <Field\n                                            as='select'\n                                            name='role'>\n                                            <option>{}</option>\n                                            <option>Администратор</option>\n                                            <option>Нивки</option>\n                                            <option>Толстого</option>\n                                        </Field>\n                                    </label>\n                                </div>\n\n                                <div>\n                                    <button className={styles.submitButton} type={'submit'}>Зарегистрироваться</button>\n                                </div>\n                            </Form>\n                        </div>\n                    )\n                }}\n            </Formik>\n        </>\n    );\n};\n\nexport default RegistrationForm;"]},"metadata":{},"sourceType":"module"}