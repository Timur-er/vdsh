{"ast":null,"code":"import axios from 'axios';\nconst $host = axios.create({\n  withCredentials: true,\n  baseURL: process.env.REACT_APP_API_URL\n});\nconst $authHost = axios.create({\n  withCredentials: true,\n  baseURL: process.env.REACT_APP_API_URL\n}); // нужно допилить этот функционал на бэке\n\nconst authInterceptor = config => {\n  const token = JSON.parse(localStorage.getItem('jwtToken'));\n  config.headers.Authorization = `Bearer ${token}`;\n  return config;\n};\n\n$authHost.interceptors.request.use(authInterceptor);\n$authHost.interceptors.response.use(config => {\n  return config;\n}, error => {\n  if (error.response.status === 401) {\n    console.log('Unauthorized error');\n  }\n});\nexport { $host, $authHost };","map":{"version":3,"sources":["/Users/etimur/Desktop/vdsh/client/src/http/index.js"],"names":["axios","$host","create","withCredentials","baseURL","process","env","REACT_APP_API_URL","$authHost","authInterceptor","config","token","JSON","parse","localStorage","getItem","headers","Authorization","interceptors","request","use","response","error","status","console","log"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAN,CAAa;AACvBC,EAAAA,eAAe,EAAE,IADM;AAEvBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAFE,CAAb,CAAd;AAKA,MAAMC,SAAS,GAAGR,KAAK,CAACE,MAAN,CAAa;AAC3BC,EAAAA,eAAe,EAAE,IADU;AAE3BC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC;AAFM,CAAb,CAAlB,C,CAMA;;AACA,MAAME,eAAe,GAAGC,MAAM,IAAI;AAC9B,QAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAd;AACAL,EAAAA,MAAM,CAACM,OAAP,CAAeC,aAAf,GAAgC,UAASN,KAAM,EAA/C;AACA,SAAOD,MAAP;AACH,CAJD;;AAMAF,SAAS,CAACU,YAAV,CAAuBC,OAAvB,CAA+BC,GAA/B,CAAmCX,eAAnC;AACAD,SAAS,CAACU,YAAV,CAAuBG,QAAvB,CAAgCD,GAAhC,CAAqCV,MAAD,IAAY;AAC5C,SAAOA,MAAP;AACH,CAFD,EAEIY,KAAK,IAAI;AACT,MAAIA,KAAK,CAACD,QAAN,CAAeE,MAAf,KAA0B,GAA9B,EAAmC;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACH;AACJ,CAND;AAQA,SACIxB,KADJ,EAEIO,SAFJ","sourcesContent":["import axios from 'axios';\n\nconst $host = axios.create({\n    withCredentials: true,\n    baseURL: process.env.REACT_APP_API_URL\n})\n\nconst $authHost = axios.create({\n    withCredentials: true,\n    baseURL: process.env.REACT_APP_API_URL\n})\n\n\n// нужно допилить этот функционал на бэке\nconst authInterceptor = config => {\n    const token = JSON.parse(localStorage.getItem('jwtToken'));\n    config.headers.Authorization = `Bearer ${token}`;\n    return config;\n}\n\n$authHost.interceptors.request.use(authInterceptor);\n$authHost.interceptors.response.use((config) => {\n    return config;\n}, (error => {\n    if (error.response.status === 401) {\n        console.log('Unauthorized error')\n    }\n}))\n\nexport {\n    $host,\n    $authHost\n}"]},"metadata":{},"sourceType":"module"}