{"ast":null,"code":"var _jsxFileName = \"/Users/etimur/Desktop/vdsh/client/src/Components/RopesTable/RopesTable.js\";\nimport React from 'react';\nimport styles from './RopesTable.module.scss';\nimport SelectQuantity from \"../SelectQuanity/SelectQuantity\";\nimport { useSelector } from \"react-redux\";\nimport { getOrder } from \"../../store/ropesOrder/selectors\";\nimport { getUserId } from \"../../store/User/selectors\";\nimport { createOrder } from \"../../http/orderAPI\";\n\nconst RopesTable = _ref => {\n  let {\n    ropes\n  } = _ref;\n  const orderData = useSelector(getOrder);\n  const user_id = useSelector(getUserId);\n  const ropesTable = ropes.map(rope => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: rope.id,\n      className: styles.ropeItem,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.ropeId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 17\n      }\n    }, rope.color_id), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SelectQuantity, {\n      color_id: rope.color_id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 21\n      }\n    })));\n  });\n\n  const confirmOrder = async e => {\n    e.preventDefault();\n    const {\n      shop_id,\n      brandData,\n      order\n    } = orderData;\n    const {\n      id: brand_id\n    } = brandData;\n    await createOrder(user_id, shop_id, brand_id, order);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.tableWrapper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles.table,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, ropesTable), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => confirmOrder(e),\n    className: styles.submitOrder,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\")));\n};\n\nexport default RopesTable;","map":{"version":3,"sources":["/Users/etimur/Desktop/vdsh/client/src/Components/RopesTable/RopesTable.js"],"names":["React","styles","SelectQuantity","useSelector","getOrder","getUserId","createOrder","RopesTable","ropes","orderData","user_id","ropesTable","map","rope","id","ropeItem","ropeId","color_id","confirmOrder","e","preventDefault","shop_id","brandData","order","brand_id","tableWrapper","table","submitOrder"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,QAAR,QAAuB,kCAAvB;AACA,SAAQC,SAAR,QAAwB,4BAAxB;AACA,SAAQC,WAAR,QAA0B,qBAA1B;;AAGA,MAAMC,UAAU,GAAG,QAAa;AAAA,MAAZ;AAACC,IAAAA;AAAD,GAAY;AAC5B,QAAMC,SAAS,GAAGN,WAAW,CAACC,QAAD,CAA7B;AACA,QAAMM,OAAO,GAAGP,WAAW,CAACE,SAAD,CAA3B;AAEA,QAAMM,UAAU,GAAGH,KAAK,CAACI,GAAN,CAAUC,IAAI,IAAI;AACjC,wBACI;AAAK,MAAA,GAAG,EAAEA,IAAI,CAACC,EAAf;AAAmB,MAAA,SAAS,EAAEb,MAAM,CAACc,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAEd,MAAM,CAACe,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACKH,IAAI,CAACI,QADV,CADJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,cAAD;AAAgB,MAAA,QAAQ,EAAEJ,IAAI,CAACI,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CAJJ,CADJ;AAUH,GAXkB,CAAnB;;AAaA,QAAMC,YAAY,GAAG,MAAOC,CAAP,IAAa;AAC9BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAM;AAACC,MAAAA,OAAD;AAAUC,MAAAA,SAAV;AAAqBC,MAAAA;AAArB,QAA8Bd,SAApC;AACA,UAAM;AAACK,MAAAA,EAAE,EAAEU;AAAL,QAAiBF,SAAvB;AACA,UAAMhB,WAAW,CAACI,OAAD,EAAUW,OAAV,EAAmBG,QAAnB,EAA6BD,KAA7B,CAAjB;AACH,GALD;;AAOA,sBACI,uDACI;AAAK,IAAA,SAAS,EAAEtB,MAAM,CAACwB,YAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAExB,MAAM,CAACyB,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKf,UADL,CADJ,eAII;AAAQ,IAAA,OAAO,EAAGQ,CAAD,IAAOD,YAAY,CAACC,CAAD,CAApC;AAAyC,IAAA,SAAS,EAAElB,MAAM,CAAC0B,WAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uFAJJ,CADJ,CADJ;AAUH,CAlCD;;AAoCA,eAAepB,UAAf","sourcesContent":["import React from 'react';\nimport styles from './RopesTable.module.scss';\nimport SelectQuantity from \"../SelectQuanity/SelectQuantity\";\nimport {useSelector} from \"react-redux\";\nimport {getOrder} from \"../../store/ropesOrder/selectors\";\nimport {getUserId} from \"../../store/User/selectors\";\nimport {createOrder} from \"../../http/orderAPI\";\n\n\nconst RopesTable = ({ropes}) => {\n    const orderData = useSelector(getOrder);\n    const user_id = useSelector(getUserId);\n\n    const ropesTable = ropes.map(rope => {\n        return (\n            <div key={rope.id} className={styles.ropeItem}>\n                <div className={styles.ropeId}>\n                    {rope.color_id}\n                </div>\n                <div>\n                    <SelectQuantity color_id={rope.color_id}/>\n                </div>\n            </div>\n        )\n    })\n\n    const confirmOrder = async (e) => {\n        e.preventDefault();\n        const {shop_id, brandData, order} = orderData;\n        const {id: brand_id} = brandData;\n        await createOrder(user_id, shop_id, brand_id, order);\n    }\n\n    return (\n        <>\n            <div className={styles.tableWrapper}>\n                <div className={styles.table}>\n                    {ropesTable}\n                </div>\n                <button onClick={(e) => confirmOrder(e)} className={styles.submitOrder}>Оформить заказ</button>\n            </div>\n        </>\n    );\n};\n\nexport default RopesTable;"]},"metadata":{},"sourceType":"module"}