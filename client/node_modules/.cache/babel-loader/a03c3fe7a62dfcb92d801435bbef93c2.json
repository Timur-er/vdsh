{"ast":null,"code":"var _jsxFileName = \"/Users/etimur/Desktop/vdsh/client/src/Components/RegAuth/AuthenticateForm/AuthenticateForm.js\";\nimport React from 'react';\nimport { Form, Formik, Field, ErrorMessage } from \"formik\";\nimport * as Yup from 'yup';\nimport styles from './AuthenticateForm.module.scss';\nimport { loginAPI } from \"../../../http/userAPI\";\nimport { useAuth } from \"../../../Hooks/auth.hook\";\nimport { useNavigate } from \"react-router-dom\";\nimport { USER_PAGE } from \"../../../routes/const\";\n\nconst AuthenticateForm = () => {\n  const {\n    login\n  } = useAuth();\n  const navigate = useNavigate();\n  const validationSchema = Yup.object({\n    email: Yup.string().email('Не правильный email').required('Укажите email!'),\n    password: Yup.string().required('Это обязательное поле!')\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      email: '',\n      password: ''\n    },\n    validationSchema: validationSchema,\n    onSubmit: async (values, _ref) => {\n      let {\n        setSubmitting\n      } = _ref;\n      const {\n        email: userEmail,\n        password: userPassword\n      } = values;\n      const authUser = await loginAPI(userEmail, userPassword);\n      const {\n        user_id,\n        email,\n        name,\n        surname,\n        shop_id,\n        role,\n        isActivated\n      } = authUser.data.user;\n      login(user_id, email, name, surname, shop_id, role, authUser.data.accessToken, isActivated);\n      navigate(USER_PAGE);\n      setSubmitting(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, formik => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: styles.formWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      className: styles.form,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 37\n      }\n    }, \"User name:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'email',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: 'email',\n      name: 'email',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 37\n      }\n    }, \"Password:\", /*#__PURE__*/React.createElement(\"span\", {\n      className: styles.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(ErrorMessage, {\n      name: 'password',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 45\n      }\n    }))), /*#__PURE__*/React.createElement(Field, {\n      className: styles.input,\n      type: 'password',\n      name: 'password',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: styles.submitButton,\n      type: 'submit',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 37\n      }\n    }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\"))));\n  }));\n};\n\nexport default AuthenticateForm;","map":{"version":3,"sources":["/Users/etimur/Desktop/vdsh/client/src/Components/RegAuth/AuthenticateForm/AuthenticateForm.js"],"names":["React","Form","Formik","Field","ErrorMessage","Yup","styles","loginAPI","useAuth","useNavigate","USER_PAGE","AuthenticateForm","login","navigate","validationSchema","object","email","string","required","password","values","setSubmitting","userEmail","userPassword","authUser","user_id","name","surname","shop_id","role","isActivated","data","user","accessToken","formik","formWrapper","form","errorMessage","input","submitButton"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Form, Formik, Field, ErrorMessage} from \"formik\";\nimport * as Yup from 'yup';\nimport styles from './AuthenticateForm.module.scss';\nimport {loginAPI} from \"../../../http/userAPI\";\nimport {useAuth} from \"../../../Hooks/auth.hook\";\nimport {useNavigate} from \"react-router-dom\";\nimport {USER_PAGE} from \"../../../routes/const\";\n\nconst AuthenticateForm = () => {\n    const {login} = useAuth();\n    const navigate = useNavigate()\n\n    const validationSchema = Yup.object({\n        email: Yup.string().email('Не правильный email').required('Укажите email!'),\n        password: Yup.string().required('Это обязательное поле!')\n    })\n\n    return (\n        <>\n            <Formik\n                initialValues={{\n                    email: '',\n                    password: ''\n                }}\n                validationSchema={validationSchema}\n                onSubmit={async (values, {setSubmitting}) => {\n                    const {email: userEmail, password: userPassword} = values;\n                    const authUser = await loginAPI(userEmail, userPassword);\n                    const {user_id, email, name, surname, shop_id, role, isActivated} = authUser.data.user;\n                    login(user_id, email, name, surname, shop_id, role, authUser.data.accessToken, isActivated);\n                    navigate(USER_PAGE)\n                    setSubmitting(false)\n                }}\n            >\n                {(formik) => {\n                    return (\n                        <div className={styles.formWrapper}>\n                            <Form className={styles.form}>\n                                <label>\n                                    <div>\n                                        User name:\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'email'}/>\n                                        </span>\n                                    </div>\n                                    <Field className={styles.input} type={'email'} name={'email'}/>\n                                </label>\n\n                                <label>\n                                    <div>\n                                        Password:\n                                        <span className={styles.errorMessage}>\n                                            <ErrorMessage name={'password'}/>\n                                        </span>\n                                    </div>\n                                    <Field className={styles.input} type={'password'} name={'password'}/>\n                                </label>\n\n                                <div>\n                                    <button className={styles.submitButton} type={'submit'}>Войти</button>\n                                </div>\n                            </Form>\n                        </div>\n                    )\n                }}\n            </Formik>\n        </>\n    );\n};\n\nexport default AuthenticateForm;"]},"metadata":{},"sourceType":"module"}